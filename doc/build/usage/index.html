<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Usage · Supernovae Documentation</title><meta name="title" content="Usage · Supernovae Documentation"/><meta property="og:title" content="Usage · Supernovae Documentation"/><meta property="twitter:title" content="Usage · Supernovae Documentation"/><meta name="description" content="Documentation for Supernovae Documentation."/><meta property="og:description" content="Documentation for Supernovae Documentation."/><meta property="twitter:description" content="Documentation for Supernovae Documentation."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img class="docs-light-only" src="../assets/logo.png" alt="Supernovae Documentation logo"/><img class="docs-dark-only" src="../assets/logo-dark.png" alt="Supernovae Documentation logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Supernovae Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Supernovae</a></li><li class="is-active"><a class="tocitem" href>Usage</a><ul class="internal"><li><a class="tocitem" href="#Supernovae.jl-Input-Files"><span>Supernovae.jl Input Files</span></a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Usage</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/OmegaLambda1998/Supernovae.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/OmegaLambda1998/Supernovae.jl/blob/main/doc/src/usage.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Usage-Details"><a class="docs-heading-anchor" href="#Usage-Details">Usage Details</a><a id="Usage-Details-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-Details" title="Permalink"></a></h1><p>To load a supernova with <code>Supernovae.jl</code> you must create an input file containing details on how to read the lightcurve files of the supernova. This file is read in using <a href="https://www.omegalambda.au/BetterInputFiles.jl/dev/">BetterInputFiles.jl</a>, which provides a number of advantages, including:</p><ul><li>Choice of <code>.yaml</code>, <code>.toml</code>, or <code>.json</code> files. All examples will be <code>.toml</code> but you can choose whichever is preferable for your workflow.</li><li>Case-insensitive keys</li><li>Ability to include other files via <code>&lt;include path/to/file.toml&gt;</code>. This will essentially copy paste the contents of <code>file.toml</code> into your input file.</li><li>Ability to interpolate environmental variables via <code>&lt;$ENV_VAR&gt;</code>.</li><li>Ability to interpolate other keys in your input via <code>&lt;%key&gt;</code>. As long as <code>&lt;%key&gt;</code> exists in the same subtree, the value of key will be interpolated, allowing for easy duplication.</li><li>Default values vai <code>[DEFAULT]</code>. And sub-keys are available everywhere. This is particularly useful when combined with interpolation.</li></ul><p>See the <code>BetterInputFiles</code> docs for more details and examples about how this all works.</p><h2 id="Supernovae.jl-Input-Files"><a class="docs-heading-anchor" href="#Supernovae.jl-Input-Files">Supernovae.jl Input Files</a><a id="Supernovae.jl-Input-Files-1"></a><a class="docs-heading-anchor-permalink" href="#Supernovae.jl-Input-Files" title="Permalink"></a></h2><p>There are three keys which can be included in a supernova&#39;s input file, <code>[ global ]</code>, <code>[ data ]</code>, and <code>[ plot ]</code>.</p><h3 id="[-global-]"><a class="docs-heading-anchor" href="#[-global-]"><code>[ global ]</code></a><a id="[-global-]-1"></a><a class="docs-heading-anchor-permalink" href="#[-global-]" title="Permalink"></a></h3><p><code>[ global ]</code> controls file-paths and is optional. File paths can be absolute, or relative to <code>base_path</code> which, by default, is the parent directory of the input file. The file paths that can be defined are:</p><pre><code class="language-toml hljs">[ global ]
    base_path = &quot;./&quot; # All other paths will be relative to this path
    output_path = &quot;base_path/Output&quot; # Where all output will be placed
    filter_path = &quot;base_path/Filters&quot; # Where filter transmission curves will be saved and loaded
    data_path = &quot;base_path/Data&quot; # any relative paths to data files will be relative to data_path</code></pre><h3 id="[-data-]"><a class="docs-heading-anchor" href="#[-data-]"><code>[ data ]</code></a><a id="[-data-]-1"></a><a class="docs-heading-anchor-permalink" href="#[-data-]" title="Permalink"></a></h3><p><code>[ data ]</code> includes all the options for loading in your supernova and is required. <code>data</code> keys include:</p><pre><code class="language-toml hljs">[ data ]
name::String # The name of the supernova
zeropoint::Float64 # The zeropoint of the supernova
zeropoint_unit::String=&quot;AB_mag&quot; # The unit of the zeropoint.
redshift::Float64 # The redshift of the supernova
max_flux_err::Float64=Inf # The maximum allowed flux error. Any datapoint with flux error greater than this will be removed.
max_flux_err_unit::String=&quot;μJy&quot; # The unit of the maximum flux error.
peak_time::Union{Bool, Float64}=false # If true, set time relatative to the time of maximum flux. Alternatively, provide a value for time to be set relative to.
peak_time_unit::String=&quot;d&quot; # The unit of the peak_time, only used if peak_time is a value.</code></pre><p>In addition to these options, you must specify <code>[[ data.observations ]]</code>, which contain details on the data files you with to associate with this supernova. The main assumption is that columns are different parameters and rows are different datapoints. <code>observations</code> keys include:</p><pre><code class="language-toml hljs">[[ data.observations ]]
name::String # Human readable name of the observations. Typically this is the survey responsible for the observations
path::String # Path to data file containing photometry information. Can be absolute or relative (to data_path).
delimiter::String=&quot;, &quot; # Delimiter of the data file.
comment::String=&quot;#&quot; # Comment character of the data file.
facility::Union{String,Nothing}=nothing # Override the facility responsible for the data. Use this if this information is not available in the data file.
instrument::Union{String,Nothing}=nothing # Override the instrument responsible for the data. Use this if this information is not available in the data file.
passband::Union{String,Nothing}=nothing # Override the passband of the data. Use this if this information is not available in the data file.
upperlimit::Union{Bool,String,Nothing}=nothing # Override whether the data is an upperlimit. The String options include [&quot;time&quot;, &quot;flux&quot;, &quot;flux_err&quot;]. If a String, upperlimit is true if that parameter is negative. Use this if this information is not available in the data file.
flux_offset::Float64=0 # Apply an offset to the flux. Assumes flux_offset is the same unit as flux.
upperlimit_true::Vector{String}=[&quot;T&quot;, &quot;TRUE&quot;] # Provides the (case-insensitive) string which corresponds to an upperlimit being true. Used when reading the upperlimit from a column of the data file. 
upperlimit_false::Vector{String}=[&quot;F&quot;, &quot;FALSE&quot;] # Provides the (case-insensitive) string which corresponds to an upperlimit being false. Used when reading the upperlimit from a column of the data file. </code></pre><p>The rest of the <code>observations</code> keys are related to loading in data from the data file. Your data file must include per-observation time, flux, and flux error information. Additionally, per-observation facility, instrument, passband, and upperlimit information can be included. In general there are three different ways to load a parameter from the data file.</p><h4 id="Default-Method"><a class="docs-heading-anchor" href="#Default-Method">Default Method</a><a id="Default-Method-1"></a><a class="docs-heading-anchor-permalink" href="#Default-Method" title="Permalink"></a></h4><p>The default assumption is that the data file has a header line with syntax:</p><pre><code class="nohighlight hljs">time [d], flux [μJy], flux_err [μJy]</code></pre><p>If this is the case, then you need not provide any more details and <code>Supernovae.jl</code> will be able to extract these.</p><h4 id="Column-Name"><a class="docs-heading-anchor" href="#Column-Name">Column Name</a><a id="Column-Name-1"></a><a class="docs-heading-anchor-permalink" href="#Column-Name" title="Permalink"></a></h4><p>If your header doesn&#39;t exactly match the default header, then you can specify which column corresponds to which parameter via the header name of that parameter:</p><pre><code class="language-toml hljs">[[ data.observations ]]
header.time.col = &quot;MJD&quot; # The name of the time column
header.time.unit = &quot;d&quot; # The unit of the time column
header.flux.col = &quot;brightness&quot; # The name of the time column
header.flux.unit = &quot;μJy&quot; # The unit of the time column
header.flux_err.col = &quot;d_brightness&quot; # The name of the time column
header.flux_err.unit = &quot;μJy&quot; # The unit of the time column
header.facility.col = &quot;survey&quot; # The name of the facility column
header.instrument.col = &quot;telescope&quot; # The name of the instrument column
header.passband.col = &quot;filter&quot; # The name of the passband column
header.upperlimit.col = &quot;is_real&quot; # The name of the upperlimit column</code></pre><p>In addition to specifying the unit of a parameter, you can also specify <code>header.parameter.unit_col</code> to give the column name containing the unit of that parameter.</p><h4 id="Column-Index"><a class="docs-heading-anchor" href="#Column-Index">Column Index</a><a id="Column-Index-1"></a><a class="docs-heading-anchor-permalink" href="#Column-Index" title="Permalink"></a></h4><p>Instead of <code>header.parameter.col</code> being the name of the column, you can provide the index of the column. This can be mixed and matched with the column name method to allow you to load in a large number of different syntaxes.</p><h4 id="Filter-details"><a class="docs-heading-anchor" href="#Filter-details">Filter details</a><a id="Filter-details-1"></a><a class="docs-heading-anchor-permalink" href="#Filter-details" title="Permalink"></a></h4><p>Your choice of <code>facility</code>, <code>instrument</code>, and <code>passband</code> is very important. <code>Supernovae.jl</code> will search <code>filter_path</code> for a transmission curve file with name <code>facility__instrument__passband</code>. If you have the passband for all your observations, make sure to put them in <code>filter_path</code>! If you don&#39;t, check if they&#39;re available on the <a href="http://svo2.cab.inta-csic.es/theory/fps/">SVO Filter Profile Service</a>. If so, make sure <code>facility</code>, <code>instrument</code>, and <code>passband</code> match the SVO FPS syntax as <code>Supernovae.jl</code> will attempt to download the transmission curve and save it to <code>filter_path</code>.</p><p>Transission curve files should be comma seperated files containing the wavelength (in angstroms), and the transmission at that wavelength. Check the Examples directory to see what to expect.</p><h3 id="[-plot-]"><a class="docs-heading-anchor" href="#[-plot-]"><code>[ plot ]</code></a><a id="[-plot-]-1"></a><a class="docs-heading-anchor-permalink" href="#[-plot-]" title="Permalink"></a></h3><p>The <code>plot</code> key is optional, with <code>Supernovae.jl</code> only producing plots if this key exists. At the moment only lightcurve plots are implemented, but in the future there will be filter, and spectra plots.</p><h4 id="[-plot.lightcurve-]"><a class="docs-heading-anchor" href="#[-plot.lightcurve-]"><code>[ plot.lightcurve ]</code></a><a id="[-plot.lightcurve-]-1"></a><a class="docs-heading-anchor-permalink" href="#[-plot.lightcurve-]" title="Permalink"></a></h4><p>The lightcurve plot has a number of keys used to customise your plot.</p><pre><code class="language-toml hljs">[ plot.lightcurve ]
path::String=&quot;$(supernova.name)_lightcurve.svg&quot; # Where to save the plot, relative to output_path
datatype::String=&quot;flux&quot; # What type of data to plot. Options include &quot;flux&quot;, &quot;magnitude&quot;, and &quot;abs_magnitude&quot;.
unit.time::String=&quot;d&quot; # Time unit
unit.data::String=[&quot;μJy&quot;, &quot;AB_mag&quot;] # Depending on the type of data, this will default to either μJy or AB_mag.
name::Union{Vector{String},Nothing}=nothing # What observations to include, based on their human readable name. If nothing, all observations are included.
filters::Union{Vector{String},Nothing}=nothing # What passbands to include. If nothing, all passbands are included.
rename.[passband, obs_name]::String=new_name # Optionally rename passband or obs_name to new_name. Useful if you don&#39;t want to use the SVO name, or want to add additional detail.
offset.[passband, obs_name]::Float64=0 # Optionally include an offset to the given passband or obs_name. If an observation has both passband and obs_name, it will be offset twice!
markersize::Int64=11 # Set the marker size.
marker.obs_name::String=&quot;nothing&quot; # Set the marker type for observations with name obs_name. If &quot;nothing&quot;, default marker is used.
colour.passband::Union{String,Nothing}=nothing # Set the colour for passband. If nothing, default colours are used.
legend::Bool=true # Whether to include a legend in the plot.</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Supernovae</a><a class="docs-footer-nextpage" href="../api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Thursday 26 October 2023 14:52">Thursday 26 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
